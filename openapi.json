{"openapi":"3.1.0","info":{"title":"Strava Service","description":"Strava OAuth integration with cached activity statistics","version":"1.0.0"},"paths":{"/":{"get":{"summary":"Landing Page","operationId":"landing_page__get","responses":{"200":{"description":"Successful Response"}}}},"/strava/health":{"get":{"summary":"Health","description":"Health check endpoint","operationId":"health_strava_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/strava/authorize":{"get":{"summary":"Authorize","description":"Initiate OAuth flow by redirecting to Strava.\nUser will be redirected to Strava to authorize the app.","operationId":"authorize_strava_authorize_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/strava/callback":{"get":{"summary":"Oauth Callback","description":"OAuth callback endpoint.\nStrava redirects here after user authorizes.\nExchanges code for tokens and stores in database.","operationId":"oauth_callback_strava_callback_get","parameters":[{"required":true,"schema":{"type":"string","title":"Code"},"name":"code","in":"query"},{"required":true,"schema":{"type":"string","title":"State"},"name":"state","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/strava/stats/ytd":{"get":{"summary":"Get Ytd Stats","description":"Get cached year-to-date statistics.\nReturns run and ride totals for current year.","operationId":"get_ytd_stats_strava_stats_ytd_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/strava/stats/activities":{"get":{"summary":"Get Activities","description":"Get cached recent activities (last 30).\nReturns list of activities with basic info.","operationId":"get_activities_strava_stats_activities_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/strava/stats/monthly":{"get":{"summary":"Get Monthly Stats","description":"Get cached monthly aggregated statistics.\nReturns monthly summaries for last 12 months.","operationId":"get_monthly_stats_strava_stats_monthly_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/strava/stats/longest-run":{"get":{"summary":"Get Longest Run","description":"Get the longest run for a specific year (default: current year).\nQuery from full activity history.","operationId":"get_longest_run_strava_stats_longest_run_get","parameters":[{"required":false,"schema":{"type":"integer","title":"Year"},"name":"year","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/strava/stats/longest-ride":{"get":{"summary":"Get Longest Ride","description":"Get the longest ride for a specific year (default: current year).\nQuery from full activity history.","operationId":"get_longest_ride_strava_stats_longest_ride_get","parameters":[{"required":false,"schema":{"type":"integer","title":"Year"},"name":"year","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/strava/stats/totals":{"get":{"summary":"Get All Time Totals","description":"Get all-time totals for each activity type.","operationId":"get_all_time_totals_strava_stats_totals_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/strava/stats/yearly":{"get":{"summary":"Get Yearly Stats","description":"Get activity totals grouped by year and type.","operationId":"get_yearly_stats_strava_stats_yearly_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/strava/activities":{"get":{"summary":"Get All Activities Endpoint","description":"Get all activities from history with pagination and filtering.","operationId":"get_all_activities_endpoint_strava_activities_get","parameters":[{"required":false,"schema":{"type":"integer","title":"Limit","default":100},"name":"limit","in":"query"},{"required":false,"schema":{"type":"integer","title":"Offset","default":0},"name":"offset","in":"query"},{"required":false,"schema":{"type":"integer","title":"Year"},"name":"year","in":"query"},{"required":false,"schema":{"type":"string","title":"Activity Type"},"name":"activity_type","in":"query"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/strava/refresh-data":{"post":{"summary":"Refresh Data","description":"Manually trigger data refresh from Strava.\nProtected endpoint - requires X-API-Key header.","operationId":"refresh_data_strava_refresh_data_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"APIKeyHeader":[]}]}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-API-Key"}}}}